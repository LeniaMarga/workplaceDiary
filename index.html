<!DOCTYPE html>
<html lang="en">
<?xml version="1.0" encoding="utf-8"?>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>UXDiary@home</title>

  <!-- Custom fonts for this theme -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- Theme CSS -->
  <link href="css/freelancer.css" rel="stylesheet">
  <link rel="stylesheet" href="emojionearea/dist/emojionearea.css">
  <link rel="stylesheet" href="css/simple-zoomer.css">

</head>

<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">UXDiary@Home</a>
      <!-- <a class="navbar-brand js-scroll-trigger" href="#page-top">Towards the Ambient Workplace</a> -->
      <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item mx-0 mx-lg-1">
            <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#diary">The Diary Study</a>
          </li>
          <li class="nav-item mx-0 mx-lg-1">
            <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#contact">Contact me</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Masthead -->
  <header class="masthead bg-primary text-white" id="about">
    <div class="container d-flex flex-column">
      <h2 >The workplace is changing</h2>
    </div>
  </header>
  <!-- Dairy Section -->
  <section class="page-section2 bg-primary text-white" id="about">
    <div class="container d-flex flex-column">
       <p>Working from home became a necessity during <span style="color:  #ffc107db">Covid-19</span> pandemic, establishing what was an emerging tendency in many sectors as part of the 4th industrial revolution.
         <br>As our homes are transforming into workplaces, the ways and spaces we work are becoming more ambiguous, flexible, organic and heterogenous than ever before.</p>
      </div>
     <div class="container d-flex flex-column">
          <h2 >A dairy study about your experience working at home</h2>

        <p> Purpose of this study is to gain insights on how people experience working from home during the pandemic and towards the transition to office spaces.
        <p> In order to participate in the study, you will be asked to fill in daily or a few days per week* for the next months; optionally you are requested to wear a smart band (if you own any) for the period you participate in the study;
export and send the data after the end of the study. All data will be anonymized â€“ see   <a class="js-scroll-trigger"> participation terms and conditions</a>. Please <a class="js-scroll-trigger">contact me</a> to join the study and to ask any questions.
        </p>
      </div>
    </section>

  <section class="page-section" id="diary">
    <div class="container">

      <!-- Contact Section Heading -->
      <h2 class="mb-0" style="color: #2c3e50">Some details about you...</h2>
      <!-- Contact Section Form -->
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
            <div class="control-group">
              <div class="form-group floating-label-form-group controls mb-0 pb-2">
                <label>Name</label>
                <input class="form-control" id="name" type="text" placeholder="Name" required="required" data-validation-required-message="Please enter your name.">
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="control-group">
              <div class="form-group floating-label-form-group controls mb-0 pb-2">
                <label>Email Address</label>
                <input class="form-control" id="email" type="email" placeholder="Email Address" required="required" data-validation-required-message="Please enter your email address.">
                <p class="help-block text-danger"></p>
              </div>
            </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ToolKit Section -->
  <section class="page-section" id="toolkit">
    <div class="container" id="zoomed">
      <h2 style="color: #2c3e50">Where are you working right now?</h2>
      <div class="control-group">
        <div class="form-group floating-label-form-group controls mb-0 pb-2">
          <label>Place</label>
          <input class="form-control" id="place" type="text" placeholder="home / office / outside" required="required" data-validation-required-message="">
          <p class="help-block text-danger"></p>
        </div>
      </div>
    </div>
    <div class="container" id="zoomed">
     <h2 style="color: #2c3e50">Upload a picture, a short video or a sketch of your workdesk</h2>
     <form action="/file-upload" class="dropzone" id="my-awesome-dropzone">
         <div class="fallback">
           <input paramName= "pics" name="file" type="file" multiple />
         </div>
      </form>
      <!-- <div class="form-group">
        <button type="submit" class="btn btn-primary btn-xl" id="uploadpick">Upload</button>
      </div> -->
    </div>
  </section>

  <!-- ToolKit Section -->
  <section class="page-section" id="toolkit">
    <div class="container" id="zoomed">
      <h2 style="color: #2c3e50">How are you feeling today?</h2>

        <div class="row">
          <div class="col-lg-8 mx-auto">
            <form name="sentMessage" id="contactForm" novalidate="novalidate">
              <div class="control-group">
                <div class="form-group floating-label-form-group controls mb-0 pb-2">
                  <textarea id='emotionsarea' placeholder="how are you feeling today?"></textarea>
                  <!-- <textarea class="form-control" id="message" rows="5" placeholder="Message" required="required" data-validation-required-message="Please enter a message."></textarea> -->
                  <p class="help-block text-danger"></p>
                </div>
              </div>
              <br>
              <div id="success"></div>
            </form>
          </div>
        </div>
      </div>
    </section>
    <section class="page-section" id="toolkit">
    <div class="container" id="zoomed">
    <h2 style="color: #2c3e50">Some more information...</h2>
    <!-- About Section Content -->
    <div class="row text-center">
       <div class="col-lg-4">
          <h4>Environment</h4>
          <br/>
          <div class="slidecontainer">
            <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Temperature</h4>
             <div class='slider-title'>
                <h5>cold</h5>
                <h5>hot</h5>
             </div>
             <input type="range" min= "1" max="100" value="50" class="slider" id="temp">
         </div>
         <div class="slidecontainer">
           <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Light</h4>
            <div class='slider-title'>
                <h5>dark</h5>
                <h5>light</h5>
             </div>
             <input type="range" min="1" max="100" value="50" class="slider" id="light">
         </div>
         <div class="slidecontainer">
           <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px">Noise</h4>
            <div class='slider-title'>
               <h5>noisy</h5>
               <h5>quiet</h5>
            </div>
            <input type="range" min="1" max="100" value="50" class="slider" id="noise">
         </div>
         <div class="slidecontainer">
           <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Air Quality</h4>
           <div class='slider-title'>
              <h5>poor</h5>
              <h5>fresh</h5>
           </div>
           <input type="range" min="1" max="100" value="50" class="slider" id="air">
        </div>
      </div>


      <div class="col-lg-4">
          <h4>You</h4>
          <br/>
        <div class="slidecontainer">
            <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Mood</h4>
           <div class='slider-title'>
               <h5>negative</h5>
               <h5>positive</h5>
           </div>
          <input type="range" min="1" max="100" value="50" class="slider" id="me_positive">
       </div>
       <div class="slidecontainer">
           <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Tension</h4>
          <div class='slider-title'>
             <h5>relaxed</h5>
             <h5>tensed</h5>
          </div>
         <input type="range" min="1" max="100" value="50" class="slider" id="me_tensed">
       </div>
       <div class="slidecontainer">
              <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Fatigue</h4>
          <div class='slider-title'>
             <h5>tired</h5>
             <h5>energetic</h5>
          </div>
          <input type="range" min="1" max="100" value="50" class="slider" id="me_tired">
       </div>
       <div class="slidecontainer">
              <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Stress</h4>
          <div class='slider-title'>
             <h5>calm</h5>
             <h5>anxious</h5>
          </div>
          <input type="range" min="1" max="100" value="50" class="slider" id="me_stressed">
       </div>
     </div>

     <div class="col-lg-4">
      <h4>Other aspects</h4>
      <br/>
       <div class="slidecontainer">
           <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Distraction</h4>
              <div class='slider-title'>
                <h5>focused</h5>
                <h5>distracted</h5>
             </div>
             <input type="range" min="1" max="100" value="50" class="slider" id="others_distracted">
        </div>
       <!-- <div class="slidecontainer">
         <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">Mood</h4>
          <div class='slider-title'>
            <h5>calm</h5>
            <h5>agitated</h5>
          </div>
          <input type="range" min="-50" max="+50" value="0" class="slider" id="others_calm">
      </div> -->
      <div class="row">
        <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">were you productive today?</h4>
        <div class="col-lg-8 mx-auto">
          <form name="sentMessage" id="contactForm" novalidate="novalidate">
            <div class="control-group">
              <div class="form-group floating-label-form-group controls mb-0 pb-2">
                <textarea id='emotionsarea' placeholder="what caused that?"></textarea>
                <!-- <textarea class="form-control" id="message" rows="5" placeholder="Message" required="required" data-validation-required-message="Please enter a message."></textarea> -->
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <br>
            <div id="success"></div>
          </form>
        </div>
      </div>
      <div class="row">
        <h4 style="color:darkgrey; font-size:20px; margin-bottom: 0px ">how many times where you interupted?</h4>
        <div class="col-lg-8 mx-auto">
          <form name="sentMessage" id="contactForm" novalidate="novalidate">
            <div class="control-group">
              <div class="form-group floating-label-form-group controls mb-0 pb-2">
                <textarea id='emotionsarea' placeholder="what caused interuption?"></textarea>
                <!-- <textarea class="form-control" id="message" rows="5" placeholder="Message" required="required" data-validation-required-message="Please enter a message."></textarea> -->
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <br>
            <div id="success"></div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Contact Section -->
<section class="page-section" id="contact">
  <div class="container">

    <!-- Contact Section Heading -->
    <h2 style="color: #2c3e50">Anything else you would like to share?</h2>
    <!-- Contact Section Form -->
    <div class="control-group">
      <div class="form-group floating-label-form-group controls mb-0 pb-2">
        <label>Last Thoughts</label>
        <input class="form-control" id="place" type="text" placeholder="last thoughts" required="required" data-validation-required-message="">
        <p class="help-block text-danger"></p>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="form-group">
      <button type="submit" class="btn btn-primary btn-xl" id="sendMessageButton">Submit Diary</button>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="footer ">
  <div class="container ">
    <div class="row r">

      <!-- Footer Location -->
      <div class="col-lg-4 mb-lg-0 ">
        <h4 class="text-uppercase mb-4" style="color:white">Contact</h4>
        <p class="lead mb-0">Lenia Margariti</p>
        <p class="lead mb-0">E.K.Margariti2@newcastle.ac.uk</p>
        <p class="lead mb-0">+44 (0)7517084859</p>
        <p class="lead mb-0">Open Lab / Urban Sciences Building</p>
      </div>

    </div>
  </div>
</footer>


  <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
  <div class="scroll-to-top d-lg-none position-fixed ">
    <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
  <script type="text/javascript" src="js/jquery.simple.zoomer.js"></script>
  <script type="text/javascript" src="image-map-resizer/js/imageMapResizer.min.js "></script>
  <script type="text/javascript" src="emojionearea/dist/emojionearea.js"></script>
  <script type="text/javascript" src="./dropzone-5.7.0/dist/dropzone.js"></script>


  <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-database.js"></script>
  <!--  Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#available-libraries -->
  <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-analytics.js"></script>

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyAxb7pvZb-8U6ETWY-T0pGu96RNE7Khp54",
      authDomain: "uxdiaryusb.firebaseapp.com",
      databaseURL: "https://uxdiaryusb.firebaseio.com",
      projectId: "uxdiaryusb",
      storageBucket: "uxdiaryusb.appspot.com",
      messagingSenderId: "759851500962",
      appId: "1:759851500962:web:b9952634655743f89bdefb",
      measurementId: "G-RY2E4V5CX7"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    firebase.auth().signInAnonymously();

    // console.log(firebase);

    var database = firebase.database();


    function writeUserData(name, email) {
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // User is signed in.
          var isAnonymous = user.isAnonymous;
          var uid = user.uid;
          var startedAt = firebase.database.ServerValue.TIMESTAMP;

          console.log(uid);
          // ...
         firebase.database().ref('users').child(uid).push({
               username: name,
               email: email,
               time:  startedAt
          });

        } else {
                // User is signed out.
                // ...
        }
              // ...
      });

    }

    function writeDeskData(desk) {
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // User is signed in.
          var isAnonymous = user.isAnonymous;
          var uid = user.uid;
          console.log(uid);
          var startedAt = firebase.database.ServerValue.TIMESTAMP;
         firebase.database().ref('desks').child(uid).push({
               desk:desk,
               time:  startedAt
          });
        } else {
              // User is signed out.
              // ...
        }
            // ...
      });
    }

    function writeRangeData(percent, id) {
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // User is signed in.
          var isAnonymous = user.isAnonymous;
          var uid = user.uid;
          console.log(uid);
          var startedAt = firebase.database.ServerValue.TIMESTAMP;

          firebase.database().ref('around ' + id).child(uid).push({
               percent: percent,
               id: id,
               time:  startedAt
          });
        } else {
              // User is signed out.
              // ...
        }
            // ...
      });
    }


    function writeEmo(emo) {
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // User is signed in.
          var isAnonymous = user.isAnonymous;
          var uid = user.uid;
          console.log(uid);
          var startedAt = firebase.database.ServerValue.TIMESTAMP;
          firebase.database().ref('emo').child(uid).push({
               emo: emo,
               time:  startedAt
          });
        } else {
              // User is signed out.
              // ...
        }
            // ...
      });
    }


  </script>

  <script type="text/javascript">
        // map follows image
     $(document).ready(function() {
         $('map').imageMapResize();

         $("#zoom").zoomer({
           maxLimit: 100, //default value
           zoomingOrigin: (0, 0) //default value
         });


          //get name and surname
          $('#sendNameEmail').on('click', function(){
            var name =  $('#name').val();
            var email =  $('#email').val();

            writeUserData(name, email);
          });



          // get the desk number
          $('area').on('click', function(e){
            e.preventDefault();
            var desk = e.target.title;
            console.log(desk);
            alert('thanks, got it!');
            writeDeskData(desk);
          });


         //slider script
         $(function() {
         	var rangePercent = $('.slider').val();
         	$('.slider').on('change input', function() {
         		var rangePercent = $(this).val();
            var id = $(this).attr('id');
         		// $('#slidertext').text(rangePercent);
         		$(this).css('filter', 'hue-rotate(-' + rangePercent + 'deg)');
              console.log(rangePercent);
              writeRangeData(rangePercent, id);
              // writeRangeDataOnClick();
            // var aroundObject = firebase.database().ref('around').child('object');
            // aroundObject.on('value', rangePercent);
         	  });

         });

         // function writeRangeDataOnClick(){
         //       $('#sendMessageButton').on('click', function(){
         //             var rangePercent = $('[type="range"]').val();
         //             var id = $('[type="range"]').attr('id');
         //             writeRangeData(rangePercent, id);
         //
         //      });
         // };



          // emoticons
          $("#emotionsarea").emojioneArea({
                   search: false,
                   tones: false,
                   filtersPosition: "bottom",
                   filters: {
                      recent : false, // disable recent
                      animals_nature: false,
                      food_drink: false,
                      objects: false, // disable objects filter
                      symbols: false, // disable symbols filter
                      flags : false, // disable flags filter
                      activity: false,
                      travel_places: false
                    }
              });

         //save emo text
          $('#sendMessageButton').on('click', function(){
             var emotext = $("#emotionsarea")[0].emojioneArea.getText();

             var name =  $('#name').val();
             var email =  $('#email').val();
             var rangePercent =

             writeEmo(emotext);
             writeUserData(name, email);

             });

     });
  </script>

</body>

</html>
